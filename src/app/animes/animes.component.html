<div class="container-fluid p-5">

  <h2>Animes List</h2>
  <div *ngIf="error">
    <p>Error: {{ error }}</p>
  </div>

  <div class="col-12 d-flex justify-content-center align-items-center">
    <div class="form-group m-2">
      <label class="col-md-12 control-label">Minimum Register</label>
      <div class="col-md-12">
        <input 
          class="form-control" 
          id="limitPerPage" 
          type="number" 
          [value]="itemsPerPage" 
          (keyup)="setTotalPerPage($event)" 
          placeholder="define minimum of register in the table"/>
      </div>
      
     </div>
     <div class="form-group m-2">
      <label class="col-md-12 control-label">Filter by name:</label>
      <div class="col-md-12" >
        <input 
          class="form-control" 
          id="limitPerPage" 
          type="text" 
          (keyup)="setFilterByName($event)" 
          placeholder="search by anime's name"/>
  

      </div>
    </div>
  </div>

  <div class="mt-5 container" *ngIf="animes">
   

    <div class="row  d-flex justify-content-center align-items-center">
      <table class="table table-hover w-auto ">
        <thead class="thead-dark">
            <tr>
                <th>
  
                </th>
                <th>
                  Title
                </th>
                <th>
                  Start Date
                </th>
                <th>
                  End Date
                </th>
                <th>
                    Status
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let anime of animes">
                <td class=" d-flex justify-content-center align-items-center">
                    <img src="{{ anime.coverImage.large }}" style="width: 70x; height: 100px">
                </td>
                <td>
                    {{ anime.title.userPreferred  }}
                </td>
                <td>
                    {{ anime.startDate.year  }}/{{ anime.startDate.month  }}/{{ anime.startDate.day  }}
                </td>
                <td>
                  {{ anime.endDate.year  }}/{{ anime.endDate.month  }}/{{ anime.endDate.day  }}
                </td>
                <td>
                    {{ anime.status}}
                </td>
                <td class="text-right">
                  <button type="button" class="btn btn-info" (click)="showAnimeDetail(anime)" data-toggle="modal" data-target="#exampleModal">
                    Detail
                  </button>
                </td>
            </tr>
        </tbody>
     </table>
    </div>
    <div class="row d-flex justify-content-center align-items-center">
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          <li class="page-item"><a class="page-link" (click)="setPagination('FIRST')">First Page</a></li>

          <li class="page-item">
            <a class="page-link" (click)="setPagination('PREV')">Previous</a>
          </li>
          <li class="page-item"><a class="page-link" href="#">Pagina Atual: {{ currentPage }}</a></li>
          <li class="page-item">
            <a class="page-link" (click)="setPagination('NEXT')">Next</a>
          </li>
          <li class="page-item"><a class="page-link" (click)="setPagination('LAST')">Last Page</a></li>
        </ul>
      </nav>
    </div>

   
  </div>

  
</div>



<!-- Button trigger modal -->
<!-- Button trigger modal -->
<!-- Button trigger modal -->

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ animeDetail.title.userPreferred }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card text-center">
          <img [src]="animeDetail.coverImage.large" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">{{ animeDetail.title.userPreferred }}</h5>
            <p class="card-text">{{ animeDetail.description }}</p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>